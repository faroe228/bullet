!function(){"use strict";function a(){var a=this,b={};a.on=function(a,c,d){if(!(arguments.length<2||"string"!=typeof a||"function"!=typeof c)){var e=c.toString();"undefined"!=typeof b[a]?"undefined"==typeof b[a].callbacks[e]?(b[a].callbacks[e]={cb:c,once:!!d},b[a].totalCallbacks++):"boolean"==typeof d&&(b[a].callbacks[e].once=d):(b[a]={callbacks:{}},b[a].callbacks[e]={cb:c,once:!!d},b[a].totalCallbacks=1)}},a.once=function(b,c){a.on(b,c,!0)},a.off=function(a,c){if("string"==typeof a&&"undefined"!=typeof b[a])if("function"==typeof c){var d=c.toString(),e=b[a].callbacks[d];"undefined"!=typeof e&&(delete b[a].callbacks[d],b[a].totalCallbacks--,0===b[a].totalCallbacks&&delete b[a])}else delete b[a]},a.trigger=function(c,d){if("string"==typeof c&&"undefined"!=typeof b[c])for(var e in b[c].callbacks){var f=b[c].callbacks[e];"function"==typeof f.cb&&f.cb(d),"boolean"==typeof f.once&&f.once===!0&&a.off(c,f.cb)}},a.getMappings=function(){var a={};for(var c in b)a[c]=b[c];return a}}"undefined"!=typeof define&&define.amd?define(function(){return new a}):"undefined"!=typeof module&&module.exports?module.exports=new a:window.Bullet=new a}();