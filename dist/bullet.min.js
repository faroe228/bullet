!function(){"use strict";function a(){var a=this,b={dictionary:{},eventNames:{}},c={dictionary:{}};a.on=function(a,c,d){if(!(arguments.length<2||"string"!=typeof a||"function"!=typeof c)){var e=c.toString();"undefined"!=typeof b.dictionary[a]?"undefined"==typeof b.dictionary[a].callbacks[e]?(b.dictionary[a].callbacks[e]={cb:c,once:!!d},b.dictionary[a].totalCallbacks++):"boolean"==typeof d&&(b.dictionary[a].callbacks[e].once=d):(b.dictionary[a]={callbacks:{}},b.dictionary[a].callbacks[e]={cb:c,once:!!d},b.dictionary[a].totalCallbacks=1)}},a.once=function(b,c){a.on(b,c,!0)},a.off=function(a,c){if("string"==typeof a&&"undefined"!=typeof b.dictionary[a])if("function"==typeof c){var d=c.toString(),e=b.dictionary[a].callbacks[d];"undefined"!=typeof e&&(delete b.dictionary[a].callbacks[d],b.dictionary[a].totalCallbacks--,0===b.dictionary[a].totalCallbacks&&delete b.dictionary[a])}else delete b.dictionary[a]},a.trigger=function(c,d){if("string"==typeof c&&"undefined"!=typeof b.dictionary[c])for(var e in b.dictionary[c].callbacks){var f=b.dictionary[c].callbacks[e];"function"==typeof f.cb&&f.cb(d),"boolean"==typeof f.once&&f.once===!0&&a.off(c,f.cb)}},a.getEventsMap=function(){return c.dictionary=b.dictionary,c.dictionary}}"undefined"!=typeof define&&define.amd?define(function(){return new a}):"undefined"!=typeof module&&module.exports?module.exports=new a:window.Bullet=new a}();