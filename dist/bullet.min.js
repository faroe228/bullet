!function(){"use strict";function a(){function a(a){var b={};for(var c in a)b[c]={cb:a[c].cb,once:a[c].once};return b}var b=this,c={},d={};b._getMappings=function(){var b={};for(var d in c)b[d]={callbacks:a(c[d].callbacks),totalCallbacks:c[d].totalCallbacks};return b},b.on=function(a,b,d){if(!(arguments.length<2||"string"!=typeof a||"function"!=typeof b)){var e=b.toString();"undefined"!=typeof c[a]?"undefined"==typeof c[a].callbacks[e]?(c[a].callbacks[e]={cb:b,once:!!d},c[a].totalCallbacks++):"boolean"==typeof d&&(c[a].callbacks[e].once=d):(c[a]={callbacks:{}},c[a].callbacks[e]={cb:b,once:!!d},c[a].totalCallbacks=1)}},b.once=function(a,c){b.on(a,c,!0)},b.off=function(a,b){if("string"==typeof a&&"undefined"!=typeof c[a])if("function"==typeof b){var d=b.toString(),e=c[a].callbacks[d];"undefined"!=typeof e&&(delete c[a].callbacks[d],c[a].totalCallbacks--,0===c[a].totalCallbacks&&delete c[a])}else delete c[a]},b.trigger=function(a,d){if("string"==typeof a&&"undefined"!=typeof c[a])for(var e in c[a].callbacks){var f=c[a].callbacks[e];"function"==typeof f.cb&&f.cb(d),"boolean"==typeof f.once&&f.once===!0&&b.off(a,f.cb)}},b.getEvents=function(){var a=JSON.parse(JSON.stringify(d));return a},b.addEvent=function(a){if("string"!=typeof a)throw new TypeError("Bullet:: [addEvent] expected event name parameter to be a string, but received type: "+typeof a);if(0===a.length)throw new Error("Bullet:: [addEvent] expected event name parameter to be longer than 0 characters");d[a]=a},b.removeEvent=function(a){if("string"!=typeof a)throw new TypeError("Bullet:: [removeEvent] expected event name parameter to be a string, but received type: "+typeof a);if(0===a.length)throw new Error("Bullet:: [removeEvent] expected event name parameter to be longer than 0 characters");d[a]&&delete d[a]}}"undefined"!=typeof define&&define.amd?define(function(){return new a}):"undefined"!=typeof module&&module.exports?module.exports=new a:window.Bullet=new a}();