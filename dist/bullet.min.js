!function(){"use strict";function a(){function a(a){var b={};for(var c in a)b[c]={cb:a[c].cb,once:a[c].once};return b}var b=this,c={},d={},e=!1;b._getMappings=function(){var b={};for(var d in c)b[d]={callbacks:a(c[d].callbacks),totalCallbacks:c[d].totalCallbacks};return b},b.on=function(a,b,d){if(arguments.length<2||arguments.length>3){if(e)throw new Error("Bullet:: [on] expected between 2 and 3 parameters, but received: "+arguments.length)}else if("string"==typeof a){if(0!==typeof a.length){if("function"==typeof b){var f=b.toString();"undefined"!=typeof c[a]?"undefined"==typeof c[a].callbacks[f]?(c[a].callbacks[f]={cb:b,once:!!d},c[a].totalCallbacks++):"boolean"==typeof d&&(c[a].callbacks[f].once=d):(c[a]={callbacks:{}},c[a].callbacks[f]={cb:b,once:!!d},c[a].totalCallbacks=1)}else if(e)throw new TypeError('Bullet:: [on] expected "fn" parameter to be a function, but received: '+typeof a)}else if(e)throw new Error('Bullet:: [on] expected "event" parameter to be greater than 0 characters')}else if(e)throw new TypeError('Bullet:: [on] expected "event" parameter to be a string, but received: '+typeof a)},b.once=function(a,c){if(2===arguments.length){if("string"==typeof a){if(0!==typeof a.length){if("function"==typeof c)b.on(a,c,!0);else if(e)throw new TypeError('Bullet:: [once] expected "fn" parameter to be a function, but received: '+typeof a)}else if(e)throw new Error('Bullet:: [once] expected "event" parameter to be greater than 0 characters')}else if(e)throw new TypeError('Bullet:: [once] expected "event" parameter to be a string, but received: '+typeof a)}else if(e)throw new Error("Bullet:: [once] expected 2 parameters, but received: "+arguments.length)},b.off=function(a,b){if(0!==arguments.length&&"string"==typeof a&&"undefined"!=typeof c[a])if("function"==typeof b){var d=b.toString(),e=c[a].callbacks[d];"undefined"!=typeof e&&(delete c[a].callbacks[d],c[a].totalCallbacks--,0===c[a].totalCallbacks&&delete c[a])}else delete c[a]},b.trigger=function(a,d){if("string"==typeof a&&"undefined"!=typeof c[a])for(var e in c[a].callbacks){var f=c[a].callbacks[e];"function"==typeof f.cb&&f.cb(d),"boolean"==typeof f.once&&f.once===!0&&b.off(a,f.cb)}},b.getEvents=function(){var a=JSON.parse(JSON.stringify(d));return a},b.addEvent=function(a){if("string"!=typeof a)throw new TypeError("Bullet:: [addEvent] expected event name parameter to be a string, but received type: "+typeof a);if(0===a.length)throw new Error("Bullet:: [addEvent] expected event name parameter to be longer than 0 characters");d[a]=a},b.removeEvent=function(a){if("string"!=typeof a)throw new TypeError("Bullet:: [removeEvent] expected event name parameter to be a string, but received type: "+typeof a);if(0===a.length)throw new Error("Bullet:: [removeEvent] expected event name parameter to be longer than 0 characters");d[a]&&delete d[a]},b.getStrictMode=function(){return e===!0?!0:!1},b.setStrictMode=function(a){if("boolean"!=typeof a)throw new TypeError('Bullet:: [setStrictMode] expected parameter "useStrictMode" to be a boolean, but received type: '+typeof a);e=a}}"undefined"!=typeof define&&define.amd?define(function(){return new a}):"undefined"!=typeof module&&module.exports?module.exports=new a:window.Bullet=new a}();