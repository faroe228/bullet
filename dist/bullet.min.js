!function(){"use strict";function a(){function a(a,b,c){this.message="Bullet:: ["+a+"] "+b+", but received: "+c;var d=new Error(this.message);"undefined"!=typeof d.stack&&(this.stack=d.stack)}function b(a,b,c,d){this.message="Bullet:: ["+a+"] Expected parameter - "+b+" - to be type: "+d+", but received type: "+typeof c;var e=new TypeError(this.message);"undefined"!=typeof e.stack&&(this.stack=e.stack)}function c(a){this.message="Bullet:: ["+a+"] Expected event name parameter to be longer than 0 characters";var b=new Error(this.message);"undefined"!=typeof b.stack&&(this.stack=b.stack)}function d(a,b){this.message="Bullet:: ["+a+'] Event string: "'+b+'" does not exist within the events dictionary\nPlease use the Bullet.addEventName method to add this string.';var c=new Error(this.message);"undefined"!=typeof c.stack&&(this.stack=c.stack)}function e(a,b){this.message="Bullet:: ["+a+'] Event string: "'+b+'" is not mapped to any callbacks\nPlease use the Bullet.on method to map this string to a callback.';var c=new Error(this.message);"undefined"!=typeof c.stack&&(this.stack=c.stack)}function f(a){var b={};for(var c in a)b[c]={cb:a[c].cb,once:a[c].once};return b}a.prototype=new Error,a.prototype.name=a.name,a.prototype.constructor=a,b.prototype=new TypeError,b.prototype.name=b.name,b.prototype.constructor=b,c.prototype=new Error,c.prototype.name=c.name,c.prototype.constructor=c,d.prototype=new Error,d.prototype.name=d.name,d.prototype.constructor=d,e.prototype=new Error,e.prototype.name=e.name,e.prototype.constructor=e;var g=this,h={},i=!1,j=!0;g._errors={ParamCountError:a,ParamTypeError:b,EventNameLengthError:c,UndeclaredEventError:d,UnmappedEventError:e},g.events={},g._getMappings=function(){var a={};for(var b in h)a[b]={callbacks:f(h[b].callbacks),totalCallbacks:h[b].totalCallbacks};return a},g.on=function(e,f,j){if(arguments.length<2||arguments.length>3)throw new a("on","Expected between 2 and 3 parameters",arguments.length);if("string"!=typeof e)throw new b("on","event name",e,"string");if(0===e.length)throw new c("on");if(i&&"undefined"==typeof g.events[e])throw new d("on",e);if("function"!=typeof f)throw new b("on","callback",f,"function");if("undefined"!=typeof j&&"boolean"!=typeof j)throw new b("on","once",j,"boolean");var k=f.toString();"undefined"!=typeof h[e]?"undefined"==typeof h[e].callbacks[k]?(h[e].callbacks[k]={cb:f,once:"boolean"==typeof j?j:!1},h[e].totalCallbacks++):"boolean"==typeof j&&(h[e].callbacks[k].once=j):(h[e]={callbacks:{}},h[e].callbacks[k]={cb:f,once:!!j},h[e].totalCallbacks=1)},g.once=function(e,f){if(2!==arguments.length)throw new a("once","Expected 2 parameters",arguments.length);if("string"!=typeof e)throw new b("once","event name",e,"string");if(0===e.length)throw new c("once");if(i&&"undefined"==typeof g.events[e])throw new d("once",e);if("function"!=typeof f)throw new b("once","callback",f,"function");g.on(e,f,!0)},g.off=function(a,e){if(0===arguments.length)return void(h={});if("string"!=typeof a)throw new b("off","event name",a,"string");if(0===a.length)throw new c("off");if(i&&"undefined"==typeof g.events[a])throw new d("off",a);if("undefined"!=typeof h[a])if("function"==typeof e){var f=e.toString(),j=h[a].callbacks[f];"undefined"!=typeof j&&(delete h[a].callbacks[f],h[a].totalCallbacks--,0===h[a].totalCallbacks&&delete h[a])}else{if("undefined"!=typeof e)throw new b("off","callback",e,"function");delete h[a]}},g.replaceCallback=function(a,f,j,k){if("string"!=typeof a)throw new b("replaceCallback","event name",a,"string");if(0===a.length)throw new c("replaceCallback");if("undefined"==typeof h[a])throw new e("replaceCallback",a);if(i&&"undefined"==typeof g.events[a])throw new d("replaceCallback",a);if("function"!=typeof f)throw new b("replaceCallback","callback",f,"function");if("function"!=typeof j)throw new b("replaceCallback","callback",j,"function");if("undefined"!=typeof k&&"boolean"!=typeof k)throw new b("replaceCallback","once",k,"boolean");g.off(a,f),g.on(a,j,k)},g.replaceAllCallbacks=function(a,f,j){if("string"!=typeof a)throw new b("replace","event name",a,"string");if(0===a.length)throw new c("replace");if("undefined"==typeof h[a])throw new e("replace",a);if(i&&"undefined"==typeof g.events[a])throw new d("replace",a);if("function"!=typeof f)throw new b("replace","callback",f,"function");if("undefined"!=typeof j&&"boolean"!=typeof j)throw new b("replace","once",j,"boolean");g.off(a),g.on(a,f,j)},g.trigger=function(a,f){function k(){for(var b in h[a].callbacks){var c=h[a].callbacks[b];"function"==typeof c.cb&&c.cb(f),"boolean"==typeof c.once&&c.once===!0&&g.off(a,c.cb)}}if("string"!=typeof a)throw new b("trigger","event name",a,"string");if(0===a.length)throw new c("trigger");if(i&&"undefined"==typeof g.events[a])throw new d("trigger",a);if("undefined"!=typeof h[a])j&&"undefined"!=typeof window?window.setTimeout(k,0):k();else if(i)throw new e("trigger",a)},g.addEventName=function(a){if("string"!=typeof a)throw new b("addEventName","event name",a,"string");if(0===a.length)throw new c("addEventName");g.events[a]=a},g.removeEventName=function(a){if("string"!=typeof a)throw new b("removeEventName","event name",a,"string");if(0===a.length)throw new c("removeEventName");g.events[a]&&delete g.events[a]},g.getStrictMode=function(){return i===!0?!0:!1},g.setStrictMode=function(a){if("boolean"!=typeof a)throw new b("setStrictMode","strict mode",a,"boolean");i=a},g.getTriggerAsync=function(){return j===!0?!0:!1},g.setTriggerAsync=function(a){if("boolean"!=typeof a)throw new b("setTriggerAsync","trigger async",a,"boolean");j=a}}"undefined"!=typeof define&&define.amd?define(function(){return new a}):"undefined"!=typeof module&&module.exports?module.exports=new a:window.Bullet=new a}();