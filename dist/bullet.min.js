!function(){"use strict";function a(){function a(a,b,c){this.message="Bullet:: ["+a+"] "+b+", but received: "+c;var d=new Error(this.message);"undefined"!=typeof d.stack&&(this.stack=d.stack)}function b(a,b){this.message="Bullet:: ["+a+"] Expected event name parameter to be a string, but received type: "+typeof b;var c=new TypeError(this.message);"undefined"!=typeof c.stack&&(this.stack=c.stack)}function c(a,b){this.message="Bullet:: ["+a+"] Expected callback parameter to be a function, but received type: "+typeof b;var c=new TypeError(this.message);"undefined"!=typeof c.stack&&(this.stack=c.stack)}function d(a){this.message="Bullet:: [setStrictMode] Expected parameter to be a boolean, but received type: "+typeof a;var b=new TypeError(this.message);"undefined"!=typeof b.stack&&(this.stack=b.stack)}function e(a){this.message="Bullet:: ["+a+"] Expected event name parameter to be longer than 0 characters";var b=new Error(this.message);"undefined"!=typeof b.stack&&(this.stack=b.stack)}function f(a,b){this.message="Bullet:: ["+a+'] Event string: "'+b+'" does not exist within the events dictionary\nPlease use the Bullet.addEventName method to add this string.';var c=new Error(this.message);"undefined"!=typeof c.stack&&(this.stack=c.stack)}function g(a,b){this.message="Bullet:: ["+a+'] Event string: "'+b+'" is not mapped to any callbacks\nPlease use the Bullet.on method to map this string to a callback.';var c=new Error(this.message);"undefined"!=typeof c.stack&&(this.stack=c.stack)}function h(a){var b={};for(var c in a)b[c]={cb:a[c].cb,once:a[c].once};return b}a.prototype=new Error,a.prototype.name=a.name,a.prototype.constructor=a,b.prototype=new TypeError,b.prototype.name=b.name,b.prototype.constructor=b,c.prototype=new TypeError,c.prototype.name=c.name,c.prototype.constructor=c,d.prototype=new TypeError,d.prototype.name=d.name,d.prototype.constructor=d,e.prototype=new Error,e.prototype.name=e.name,e.prototype.constructor=e,f.prototype=new Error,f.prototype.name=f.name,f.prototype.constructor=f,g.prototype=new Error,g.prototype.name=g.name,g.prototype.constructor=g;var i=this,j={},k=!1;i._errors={ParamCountError:a,EventNameTypeError:b,CallbackTypeError:c,EventNameLengthError:e,UndeclaredEventError:f,UnmappedEventError:g,StrictModeSetterTypeError:d},i.events={},i._getMappings=function(){var a={};for(var b in j)a[b]={callbacks:h(j[b].callbacks),totalCallbacks:j[b].totalCallbacks};return a},i.on=function(d,g,h){if(arguments.length<2||arguments.length>3)throw new a("on","Expected between 2 and 3 parameters",arguments.length);if("string"!=typeof d)throw new b("on",d);if(0===d.length)throw new e("on");if(k&&"undefined"==typeof i.events[d])throw new f("on",d);if("function"!=typeof g)throw new c("on",g);var l=g.toString();"undefined"!=typeof j[d]?"undefined"==typeof j[d].callbacks[l]?(j[d].callbacks[l]={cb:g,once:!!h},j[d].totalCallbacks++):"boolean"==typeof h&&(j[d].callbacks[l].once=h):(j[d]={callbacks:{}},j[d].callbacks[l]={cb:g,once:!!h},j[d].totalCallbacks=1)},i.once=function(d,g){if(2!==arguments.length)throw new a("once","Expected 2 parameters",arguments.length);if("string"!=typeof d)throw new b("on",d);if(0===d.length)throw new e("once");if(k&&"undefined"==typeof i.events[d])throw new f("once",d);if("function"!=typeof g)throw new c("once",g);i.on(d,g,!0)},i.off=function(a,d){if(0===arguments.length)return void(j={});if("string"!=typeof a)throw new b("off",a);if(0===a.length)throw new e("off");if(k&&"undefined"==typeof i.events[a])throw new f("off",a);if("undefined"!=typeof j[a])if("function"==typeof d){var g=d.toString(),h=j[a].callbacks[g];"undefined"!=typeof h&&(delete j[a].callbacks[g],j[a].totalCallbacks--,0===j[a].totalCallbacks&&delete j[a])}else{if("undefined"!=typeof d)throw new c("off",d);delete j[a]}},i.trigger=function(a,c){if("string"!=typeof a)throw new b("trigger",a);if(0===a.length)throw new e("trigger");if(k&&"undefined"==typeof i.events[a])throw new f("trigger",a);if("undefined"!=typeof j[a])for(var d in j[a].callbacks){var h=j[a].callbacks[d];"function"==typeof h.cb&&h.cb(c),"boolean"==typeof h.once&&h.once===!0&&i.off(a,h.cb)}else if(k)throw new g("trigger",a)},i.addEventName=function(a){if("string"!=typeof a)throw new b("addEventName",a);if(0===a.length)throw new e("addEventName");i.events[a]=a},i.removeEventName=function(a){if("string"!=typeof a)throw new b("removeEventName",a);if(0===a.length)throw new e("removeEventName");i.events[a]&&delete i.events[a]},i.getStrictMode=function(){return k===!0?!0:!1},i.setStrictMode=function(a){if("boolean"!=typeof a)throw new d(a);k=a}}"undefined"!=typeof define&&define.amd?define(function(){return new a}):"undefined"!=typeof module&&module.exports?module.exports=new a:window.Bullet=new a}();